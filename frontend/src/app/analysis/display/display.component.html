<div class="row no-gutters">
  <div *ngFor="let j of [0,1]" class="col-6">
    <div *ngFor="let stroke of stats1?.strokes.slice(j*4,j*4+4) ; let i=index" class="col-6" class="card text-center">
      <div class="card-header" [style.background-color]="STROKES[stroke.name].bgColor" role="button" (click)="expanded[stroke.name]=!expanded[stroke.name]">
        <h6 class="mb-0">
          {{ STROKES[stroke.name].label }}
        </h6>
      </div>
      <div class="card-block"  role="button" (click)="expanded[stroke.name]=!expanded[stroke.name]">
        <div class="col-12">
          <div class="row">
            <div style="display:inline-block;" class="col-6 no-margin" [class.col-12]="!compare" [class.selection1]="compare">
              <strong>{{stroke.count}}</strong>&nbsp;<span class="small">shots</span>
              <div *ngIf="expanded[stroke.name]">
                <img *ngIf="stroke.count > 0" class="img-fluid" style="max-height:85px;" [src]="stroke.stats?.heatmap">
              </div>
            </div>
            <div *ngIf="compare" style="display:inline-block;" class="col-6 no-margin selection2">
              <strong>{{stats2?.strokes[i+j*4]?.count}}</strong>&nbsp;<span class="small">shots</span>
              <div *ngIf="expanded[stroke.name] && stats2.count > 0">
                <img *ngIf="stats2.strokes[i+j*4].count > 0" class="img-fluid" style="max-height:85px;" [src]="stats2?.strokes[i+j*4]?.stats?.heatmap">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card-block" *ngIf="expanded[stroke.name]">
        <div class="row">
          <div *ngFor="let stat of ['swing_speed', 'ball_speed', 'ball_spin']" class="col-md-10 offset-md-1">
            <hr>
            <canvas *ngIf="!compare || stats2.count < 1" baseChart
                      [data]="stats1?.strokes[i+j*4]?.stats[stat].y"
                      [labels]="stats1?.strokes[i+j*4]?.stats[stat].x"
                      [options]="chartOptions"
                      [colors]="chartColors"
                      [legend]="chartLegend"
                      [chartType]="chartType">
              </canvas>
              <canvas *ngIf="compare && stats2.count > 0" baseChart
                      [data]="[stats1?.strokes[i+j*4]?.stats[stat].y,stats2?.strokes[i+j*4]?.stats[stat].y]"
                      [labels]="stats1?.strokes[i+j*4]?.stats[stat].x"
                      [options]="chartOptions"
                      [colors]="chartColors"
                      [legend]="chartLegend"
                      [chartType]="chartType">
              </canvas>
              {{getStatLabel(stat)}}
          </div>
        </div>
      </div>
    </div>
  </div>
  <br>
</div>
