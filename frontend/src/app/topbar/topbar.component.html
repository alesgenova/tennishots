<div class="white-top fixed-top" [ngClass]="topShadow">
  <div class="container">
    <nav class="nav">
      <!--<a *ngIf="loggedIn()" class="navbar-brand hidden-md-up" role="button" (click)="toggleSidebar()"><i class="fa fa-bars" aria-hidden="true"></i><i *ngIf="false" class="fa fa-arrow-left" aria-hidden="true"></i></a>-->
      <a class="navbar-brand" [routerLink]="['']"><img src="{{navbarLogoUrl}}" height="35px" alt="TENNISTAT"></a>
      <ul *ngIf="loggedIn()" class="nav flex-row hidden-sm-down">
        <li class="nav-item" [class.active-nav-item]="activeSection=='summary'">
          <a class="nav-link text-muted" [routerLink]="['dashboard']">Summary</a>
        </li>
        <li class="nav-item" [class.active-nav-item]="activeSection=='analysis'"   (mouseenter)="$event.stopPropagation(); analyzeDrop.open();" (mouseleave)="$event.stopPropagation(); analyzeDrop.close();">
          <div  ngbDropdown #analyzeDrop="ngbDropdown">
            <a class="nav-link text-muted" id="dropdownMenu1" ngbDropdownToggle [routerLink]="['summary']">Analysis</a>
            <div class="dropdown-menu" aria-labelledby="dropdownMenu1">
              <button class="dropdown-item" [routerLink]="['summary']">Basic</button>
              <button class="dropdown-item" [routerLink]="['analyze']">Advanced</button>
            </div>
          </div>
        </li>
        <li class="nav-item" [class.active-nav-item]="activeSection=='progress'" (mouseenter)="$event.stopPropagation(); progressDrop.open();" (mouseleave)="$event.stopPropagation(); progressDrop.close();">
          <div ngbDropdown #progressDrop="ngbDropdown">
            <a class="nav-link text-muted" id="dropdownMenu3" ngbDropdownToggle [routerLink]="['progress']">Progress</a>
            <div class="dropdown-menu" aria-labelledby="dropdownMenu3">
              <button class="dropdown-item" [routerLink]="['progress','session']">Daily</button>
              <button class="dropdown-item" [routerLink]="['progress','week']">Weekly</button>
              <button class="dropdown-item" [routerLink]="['progress','month']">Monthly</button>
            </div>
          </div>
        </li>
        <li class="nav-item" [class.active-nav-item]="activeSection=='video'" (mouseenter)="$event.stopPropagation(); videoDrop.open();" (mouseleave)="$event.stopPropagation(); videoDrop.close();">
          <div ngbDropdown #videoDrop="ngbDropdown">
            <a class="nav-link text-muted" id="dropdownMenu2" ngbDropdownToggle [routerLink]="['video']">Video</a>
            <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
              <button class="dropdown-item" [routerLink]="['video']">Recordings</button>
              <button class="dropdown-item" [routerLink]="['videocollection']">Collections</button>
            </div>
          </div>
        </li>
      </ul>
      <ul *ngIf="!loggedIn()" class="nav flex-row ml-auto">
        <li class="nav-item"><a class="nav-link text-muted" [routerLink]="['login']">Login</a></li>
        <li class="nav-item"><a class="nav-link text-muted" [routerLink]="['register']">Register</a></li>
      </ul>
      <ul *ngIf="loggedIn()" class="nav flex-row ml-auto">
        <li class="nav-item">
          <a role="button" id="dropdownMenu4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" >
            <img style="margin-top:4px;" [src]="userProfile?.avatar" class="rounded-circle" height="35px">
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu4">
            <a class="dropdown-item" [routerLink]="['profile']">
                <i class="fa fa-user" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;{{userProfile?.user}}
            </a>
            <a class="dropdown-item" [routerLink]="['friends']">
                <i class="fa fa-users" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;Friends
            </a>
            <a class="dropdown-item" [routerLink]="['tags']">
                <i class="fa fa-tag" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;Tags
            </a>
            <a class="dropdown-item" [routerLink]="['import']">
                <i class="fa fa-upload" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;Import Shots
            </a>
            <a class="dropdown-item" [routerLink]="[]">
                <i class="fa fa-credit-card" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;$$ Due
            </a>
            <a class="dropdown-item" role="button" (click)="logOut()">
                <i class="fa fa-sign-out" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;Log Out
            </a>
          </div>
        </li>
      </ul>
    </nav>
  </div>
</div>

<div class="my-top fixed-top" [ngClass]="colorTop">
</div>

<div *ngIf="loggedIn()" class="hidden-md-up mobile-footer" [ngClass]="bottomShadow">
    <ul  class="nav nav-justified" style="height:3rem;">
      <li class="nav-item" [class.active-nav-item]="activeSection=='summary'">
        <a class="nav-link" role="button" [routerLink]="['dashboard']">Summary</a>
      </li>
      <li class="nav-item dropup" [class.active-nav-item]="activeSection=='analysis'">
          <a class="nav-link" role="button" id="dropdownMenu1" data-toggle="dropdown">Analysis</a>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu1">
            <button class="dropdown-item" [routerLink]="['summary']">Basic</button>
            <button class="dropdown-item" [routerLink]="['analyze']">Advanced</button>
          </div>
      </li>
      <li class="nav-item dropup" [class.active-nav-item]="activeSection=='progress'">
          <a class="nav-link" role="button" id="dropdownMenu3" data-toggle="dropdown">Progress</a>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu3">
            <button class="dropdown-item" [routerLink]="['progress','session']">Daily</button>
            <button class="dropdown-item" [routerLink]="['progress','week']">Weekly</button>
            <button class="dropdown-item" [routerLink]="['progress','month']">Monthly</button>
          </div>
      </li>
      <li class="nav-item dropup" [class.active-nav-item]="activeSection=='video'">
          <a class="nav-link" role="button" id="dropdownMenu2" data-toggle="dropdown">Video</a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu2">
            <button class="dropdown-item" [routerLink]="['video']">Recordings</button>
            <button class="dropdown-item" [routerLink]="['videocollection']">Collections</button>
          </div>
      </li>
    </ul>
</div>
